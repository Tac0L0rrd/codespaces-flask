<!DOCTYPE html>
<html>
<head>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/static/styles.css">
    <title>Teacher Dashboard - EduBridge</title>
</head>
<body>

        <div class="navbar">
        <div class="navbar-container">
            <div class="navbar-links">
                <a href="/teacher_dashboard" class="nav-link active">Dashboard</a>
                <div class="dropdown">
                    <a href="#" class="nav-link dropdown-trigger">Classes</a>
                    <div class="dropdown-content">
                        <a href="/manage_schedule">
                            <span class="dropdown-item-icon">üìÖ</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Manage Schedule</span>
                                <span class="dropdown-item-description">Create and edit class schedules</span>
                            </span>
                        </a>
                        <a href="/mark_attendance">
                            <span class="dropdown-item-icon">‚úÖ</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Mark Attendance</span>
                                <span class="dropdown-item-description">Track student attendance</span>
                            </span>
                        </a>
                        <a href="/enter_grades">
                            <span class="dropdown-item-icon">üìä</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Enter Grades</span>
                                <span class="dropdown-item-description">Record student grades</span>
                            </span>
                        </a>
                        <a href="/manage_students">
                            <span class="dropdown-item-icon">üë•</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Enroll Students</span>
                                <span class="dropdown-item-description">Manage student enrollments</span>
                            </span>
                        </a>
                    </div>
                </div>
                <div class="dropdown">
                    <a href="#" class="nav-link dropdown-trigger">Assignments</a>
                    <div class="dropdown-content">
                        <a href="/add_assignment">
                            <span class="dropdown-item-icon">‚ûï</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Add Assignment</span>
                                <span class="dropdown-item-description">Create new assignments</span>
                            </span>
                        </a>
                        <a href="/manage_assignments">
                            <span class="dropdown-item-icon">üìù</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Manage Assignments</span>
                                <span class="dropdown-item-description">Edit and organize assignments</span>
                            </span>
                        </a>
                    </div>
                </div>
                <div class="dropdown">
                    <a href="#" class="nav-link dropdown-trigger">Communication</a>
                    <div class="dropdown-content">
                        <a href="/teacher_messages">
                            <span class="dropdown-item-icon">ÔøΩ</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Messages</span>
                                <span class="dropdown-item-description">Communicate with parents</span>
                            </span>
                        </a>
                    </div>
                </div>
                <a href="/teacher_settings" class="nav-link">Settings</a>
            </div>
            <div class="navbar-actions">
                <a href="/logout" class="nav-btn">Logout</a>
            </div>
        </div>
    </div>
    <div class="main-content">
    <div class="center-wrapper">
        <div class="dashboard-container card-3d">
            <h1>Teacher Dashboard</h1>
            <div class="subject-grid">
                <div class="subject-card">
                    <div class="subject-grade">{{ students_count }}</div>
                    <div class="subject-name">My Students</div>
                </div>
                <div class="subject-card">
                    <div class="subject-grade">{{ active_assignments }}</div>
                    <div class="subject-name">Active Assignments</div>
                </div>
                <div class="subject-card">
                    <div class="subject-grade">{{ attendance_rate }}%</div>
                    <div class="subject-name">Attendance Rate (This Week)</div>
                </div>
                <div class="subject-card">
                    <div class="subject-grade">{{ average_grade|round(2) }}</div>
                    <div class="subject-name">Average Grade (This Term)</div>
                </div>
            </div>
            <!-- Quick actions removed in favor of navbar dropdowns -->
            <h2>My Classes</h2>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Assignments</th>
                            <th>Grades</th>
                            <th>Attendance</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for cls in my_classes %}
                        <tr>
                            <td>{{ cls['name'] }}</td>
                            <td><a class="link-btn" href="/manage_assignments">Manage</a></td>
                            <td><a class="link-btn" href="/enter_grades">Manage</a></td>
                            <td><a class="link-btn" href="/mark_attendance">Manage</a></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <h2>Recent Activity</h2>
            <ul style="text-align:center;list-style-position:inside;padding-left:0;">
                {% for act in recent_activity %}
                <li>{{ act }}</li>
                {% endfor %}
            </ul>
            <div class="action-buttons">
                <a class="btn-3d" href="/logout">Logout</a>
            </div>
        </div>
    </div>
    </div>
    
    <style>
        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff3b30;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.65em;
            font-weight: bold;
            min-width: 16px;
            height: 16px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .communication-link {
            position: relative;
            display: inline-block;
        }
    </style>
</body>
</html>
