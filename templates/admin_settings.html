<!DOCTYPE html>
<html>
<head>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/static/styles.css">
    <title>Admin Settings - EduBridge</title>
</head>
<body>
    <div class="navbar">
        <div class="navbar-container">
            <div class="navbar-links">
                <a href="/admin" class="nav-link">Dashboard</a>
                <div class="dropdown">
                    <a href="#" class="nav-link dropdown-trigger">Management</a>
                    <div class="dropdown-content">
                        <a href="/manage_users">
                            <span class="dropdown-item-icon">üë•</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Manage Users</span>
                                <span class="dropdown-item-description">Add and manage user accounts</span>
                            </span>
                        </a>
                        <a href="/manage_subjects">
                            <span class="dropdown-item-icon">üìö</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Manage Subjects</span>
                                <span class="dropdown-item-description">Configure course subjects</span>
                            </span>
                        </a>
                    </div>
                </div>
                <div class="dropdown">
                    <a href="#" class="nav-link dropdown-trigger">System</a>
                    <div class="dropdown-content">
                        <a href="/system_analytics">
                            <span class="dropdown-item-icon">üìä</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">System Analytics</span>
                                <span class="dropdown-item-description">Platform-wide insights</span>
                            </span>
                        </a>
                        <a href="/admin_settings">
                            <span class="dropdown-item-icon">‚öôÔ∏è</span>
                            <span class="dropdown-item-content">
                                <span class="dropdown-item-title">Admin Settings</span>
                                <span class="dropdown-item-description">System configuration</span>
                            </span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="navbar-actions">
                <a href="/logout" class="nav-btn">Logout</a>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="center-wrapper">
            <div class="dashboard-container card-3d">
                <h1>‚öôÔ∏è System Settings</h1>
                <p>Configure system-wide settings and preferences</p>

                <div class="settings-grid">
                    <div class="settings-card card-3d">
                        <div class="settings-header">
                            <h3>üìã System Information</h3>
                        </div>
                        <div class="settings-content">
                            <div class="setting-row">
                                <span class="setting-label">System Name</span>
                                <span class="setting-value">{{ settings.get('system_name', 'EduBridge Education Management System') }}</span>
                            </div>
                            <div class="setting-row">
                                <span class="setting-label">Version</span>
                                <span class="setting-value version-badge">v{{ settings.get('version', '2.0') }}</span>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card card-3d">
                        <div class="settings-header">
                            <h3>üìß Notifications</h3>
                        </div>
                        <div class="settings-content">
                            <div class="setting-row">
                                <span class="setting-label">Email Notifications</span>
                                <span class="status-toggle {% if settings.get('email_notifications', '1') == '1' %}enabled{% else %}disabled{% endif %}">
                                    <span class="toggle-icon">
                                        {% if settings.get('email_notifications', '1') == '1' %}‚úì{% else %}‚úó{% endif %}
                                    </span>
                                    <span class="toggle-text">
                                        {% if settings.get('email_notifications', '1') == '1' %}Enabled{% else %}Disabled{% endif %}
                                    </span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <form method="POST">
                    <div class="settings-section">
                        <h3>General Settings</h3>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>School Name</strong>
                                <div>Configure the school name displayed throughout the system</div>
                            </div>
                            <div class="setting-control">
                                <input type="text" name="school_name" value="{{ settings.get('school_name', 'EduBridge Academy') }}" class="form-input">
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>Academic Year</strong>
                                <div>Current academic year</div>
                            </div>
                            <div class="setting-control">
                                <input type="text" name="academic_year" value="{{ settings.get('academic_year', '2024-2025') }}" class="form-input">
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Notification Settings</h3>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>Email Notifications</strong>
                                <div>Send email notifications for assignments and grades</div>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" name="email_notifications" {% if settings.get('email_notifications', '1') == '1' %}checked{% endif %}>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>SMS Notifications</strong>
                                <div>Send SMS notifications for attendance</div>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" name="sms_notifications" {% if settings.get('sms_notifications', '0') == '1' %}checked{% endif %}>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Grade Settings</h3>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>Grading Scale</strong>
                                <div>Select the grading scale for the school</div>
                            </div>
                            <div class="setting-control">
                                <select name="grading_scale" class="form-input">
                                    <option value="percentage" {% if settings.get('grading_scale', 'percentage') == 'percentage' %}selected{% endif %}>Percentage (0-100)</option>
                                    <option value="letter" {% if settings.get('grading_scale', 'percentage') == 'letter' %}selected{% endif %}>Letter Grades (A-F)</option>
                                    <option value="gpa" {% if settings.get('grading_scale', 'percentage') == 'gpa' %}selected{% endif %}>GPA Scale (0-4.0)</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>Passing Grade</strong>
                                <div>Minimum grade required to pass</div>
                            </div>
                            <div class="setting-control">
                                <input type="number" name="passing_grade" value="{{ settings.get('passing_grade', '60') }}" min="0" max="100" class="form-input">
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Security Settings</h3>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>Session Timeout</strong>
                                <div>Automatic logout after inactivity (minutes)</div>
                            </div>
                            <div class="setting-control">
                                <select name="session_timeout" class="form-input">
                                    <option value="30" {% if settings.get('session_timeout', '60') == '30' %}selected{% endif %}>30 minutes</option>
                                    <option value="60" {% if settings.get('session_timeout', '60') == '60' %}selected{% endif %}>1 hour</option>
                                    <option value="120" {% if settings.get('session_timeout', '60') == '120' %}selected{% endif %}>2 hours</option>
                                    <option value="240" {% if settings.get('session_timeout', '60') == '240' %}selected{% endif %}>4 hours</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-label">
                                <strong>Force Password Change</strong>
                                <div>Require users to change passwords periodically</div>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" name="force_password_change" {% if settings.get('force_password_change', '0') == '1' %}checked{% endif %}>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="submit" class="btn-3d">Save Settings</button>
                        <a class="btn-3d" href="/admin">Back to Dashboard</a>
                        <a class="btn-3d" href="/logout">Logout</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>